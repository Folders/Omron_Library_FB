{"CLs":[{"__type":"LD","Not":true,"Var":"MyVibrator.Cfg.AsParameter"},{"__type":"JMP","Ix":1,"Label":"EoF","X":1}],"CMT":"S05V00R00 - 2025.02.13 - PC\u000d\u000a- First version\u000d\u000a\u000d\u000a____________________________________________________________________________________________________________________________________\u000d\u000a\u000d\u000aDisabled if no parameter","LRI":2,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"idLocal"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"-1"}],"Ix":7,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":2,"Type":"ANY_INT","Var":"MyVibrator.Xch.IdMax"}],"Ix":8,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":3,"Type":"ANY_INT","Var":"MyVibrator.Xch.IdMax"},{"__type":"PRM","Arg":"","Ix":4,"Type":"BOOL","Var":""}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"MyVibrator.Xch.IdMax"}],"Ix":9,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"idLocal"}],"X":2}],"CMT":"First run\u000d\u000a\u000d\u000aDefine local ID","LRI":10,"RRI":11,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":4,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Not":true,"Var":"Read","X":1},{"__type":"LD","Ix":1,"Not":true,"Var":"Done","X":2},{"__type":"JMP","Ix":5,"Label":"EoF","X":3}],"CMT":"###   Execute read command   ################################################################################################\u000d\u000a\u000d\u000aJump if no order","LRI":6,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":5,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Var":"Read","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"10"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"s"}],"X":2}],"CMT":"00: Wait order","LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":7,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Var":"MyVibrator.Sta.Ready","X":1},{"__type":"LD","Ix":1,"Not":true,"Var":"MyVibrator.Xch.Order","X":2},{"__type":"ST","Ix":2,"S":true,"Var":"MyVibrator.Xch.Order","X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"20"}],"Ix":8,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"s"}],"X":3,"Y":1}],"CMT":"10: Check if vibrator is ready to receive an order ","LRI":9,"RRI":10,"VLs":[{"Ix":11,"X":3}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"8b998648-bde4-4fd4-a13d-7d09646d46eb","H":262,"Ix":3,"TXT":"\/\/ Set unit datas commande code\u000d\u000aMyVibrator.Xch.Code := Code;\u0009\u0009\u0009\/\/ Parameter to read\u000d\u000a\u000d\u000a\/\/ Set order \u000d\u000aMyVibrator.Xch.Read := TRUE;\u000d\u000aMyVibrator.Xch.Write := FALSE;\u000d\u000a\u000d\u000a\/\/ Get the local ID\u000d\u000aMyVibrator.Xch.IdCurrant := idLocal;\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aS := 30;","W":615.33333333333348,"X":1}],"CMT":"20: Set data to the structure","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"30"}],"Ix":3,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Var":"MyVibrator.Sta.Done","X":1},{"__type":"IST","EID":"206fc608-a010-43c2-b7f4-cb262cc0fc4c","H":189.33333333333303,"Ix":4,"TXT":"\/\/ Convert received value\u000d\u000aValue := WORD_TO_REAL(MyVibrator.Xch.Value) \/ Ratio;\u000d\u000a\u000d\u000a\/\/ Reset local ID\u000d\u000aMyVibrator.Xch.IdCurrant := 0;\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000as := 40;","W":614.00000000000023,"X":2}],"CMT":"30: Wait until config give feedback of operation done","LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"40"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Ix":1,"S":true,"Var":"MyVibrator.Xch.Done","X":1},{"__type":"LD","Not":true,"Var":"MyVibrator.Sta.Done","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"100"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"s"}],"X":2,"Y":1},{"__type":"HL","X":2}],"CMT":"40: Give handshake to config of data received","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":9,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":10,"Type":"ANY_ELEMENTARY, ENUM","Var":"100"}],"Ix":13,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Ix":3,"Var":"Done","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":15,"Name":"Up","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1,"Id":"a558b59b-fe7b-480c-a377-95560000005c"},{"__type":"LD","Not":true,"Var":"MyVibrator.Sta.Fault","X":2,"Y":1},{"__type":"ST","Ix":4,"RS":true,"Var":"Fault","X":3,"Y":1},{"__type":"LD","Ix":1,"Var":"MyVibrator.Sta.Fault","X":2,"Y":2},{"__type":"ST","Ix":6,"S":true,"Var":"Fault","X":3,"Y":2},{"__type":"ST","Ix":7,"RS":true,"Var":"MyVibrator.Xch.Done","X":2,"Y":3},{"__type":"ST","Ix":5,"RS":true,"Var":"MyVibrator.Xch.Order","X":2,"Y":4},{"__type":"ST","Ix":8,"RS":true,"Var":"MyVibrator.Xch.Read","X":2,"Y":5},{"__type":"LD","Ix":2,"Not":true,"Var":"Read","X":1,"Y":6},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":11,"Type":"ANY","Var":"999"}],"Ix":14,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":12,"Type":"ANY","Var":"s"}],"X":2,"Y":6},{"__type":"HL","X":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":3},{"__type":"HL","X":3,"Y":4},{"__type":"HL","X":3,"Y":5},{"__type":"HL","X":3,"Y":6}],"CMT":"100: Reset done status to handshake config AND wait end of order","LRI":16,"RRI":17,"VLs":[{"Ix":18,"X":1},{"Ix":18,"X":1,"Y":1},{"Ix":18,"X":1,"Y":2},{"Ix":18,"X":1,"Y":3},{"Ix":18,"X":1,"Y":4},{"Ix":18,"X":1,"Y":5},{"Ix":19,"X":2,"Y":1},{"Ix":19,"X":2,"Y":2},{"Ix":19,"X":2,"Y":3},{"Ix":19,"X":2,"Y":4}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"s"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"999"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Not":true,"Var":"Read","Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"0"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"s"}],"X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"Fault","X":2}],"CMT":"999: Reset bloc","LI":8,"LRI":9,"Label":"EoF","RRI":10,"VLs":[{"Ix":11,"X":1}]}
