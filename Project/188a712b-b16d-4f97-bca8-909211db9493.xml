{"CLs":[{"__type":"LD","Not":true,"Var":"ENO"},{"__type":"LD","Ix":1,"Var":"tooMuchConfig","Y":1},{"__type":"JMP","Ix":2,"Label":"EoF","X":1}],"CMT":"S05V00R00 - 2025.02.13 - PC\u000d\u000a- First version\u000d\u000a\u000d\u000a____________________________________________________________________________________________________________________________________\u000d\u000a\u000d\u000aDisabled coil if not used or as too much configuration","LRI":3,"VLs":[{"Ix":4,"X":1}]}
{"CLs":[{"__type":"LD","Not":true,"Var":"started"},{"__type":"LD","Ix":1,"Var":"MyVibrator.Sta.Enabled","X":1},{"__type":"ST","Ix":5,"S":true,"Var":"MyVibrator.Msg.TooMuchConfig","X":2},{"__type":"ST","Ix":12,"S":true,"Var":"tooMuchConfig","X":3},{"__type":"LD","Ix":4,"Not":true,"Var":"MyVibrator.Sta.Enabled","X":1,"Y":1},{"__type":"LD","Ix":2,"Not":true,"Var":"IsBowl","X":2,"Y":1},{"__type":"ST","Ix":6,"RS":true,"Var":"MyVibrator.Cfg.IsBowl","X":3,"Y":1},{"__type":"ST","Ix":7,"S":true,"Var":"MyVibrator.Cfg.IsLinear","X":4,"Y":1},{"__type":"LD","Ix":3,"Var":"IsBowl","X":2,"Y":2},{"__type":"ST","Ix":8,"RS":true,"Var":"MyVibrator.Cfg.IsLinear","X":3,"Y":2},{"__type":"ST","Ix":9,"S":true,"Var":"MyVibrator.Cfg.IsBowl","X":4,"Y":2},{"__type":"ST","Ix":10,"S":true,"Var":"MyVibrator.Cfg.AsParameter","X":2,"Y":3},{"__type":"ST","Ix":11,"S":true,"Var":"started","X":2,"Y":4},{"__type":"HL","X":4},{"__type":"HL","X":3,"Y":3},{"__type":"HL","X":4,"Y":3},{"__type":"HL","X":3,"Y":4},{"__type":"HL","X":4,"Y":4}],"CMT":"###   Configuration   ############################################################################","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":1},{"Ix":16,"X":2,"Y":1},{"Ix":16,"X":2,"Y":2},{"Ix":16,"X":2,"Y":3}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Ix":4,"Var":"started","X":1},{"__type":"ST","Ix":5,"Var":"MyVibrator.Sta.Enabled","X":2},{"__type":"LD","Ix":1,"Var":"Commissioning","X":1,"Y":1},{"__type":"ST","Ix":6,"Var":"MyVibrator.Sta.Commissioning","X":2,"Y":1},{"__type":"LD","Ix":2,"Var":"MyVibrator.Cmd.Run","X":1,"Y":2},{"__type":"LD","Ix":3,"Not":true,"Var":"MyVibrator.Sta.Busy","X":2,"Y":2},{"__type":"ST","Ix":7,"Var":"MyVibrator.Sta.Running","X":3,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"###   Status   ##################################################################################","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1},{"Ix":10,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":6,"Type":"ANY_BIT","Var":"Data_IN[3]"},{"__type":"PRM","Arg":"In2","Ix":7,"Type":"ANY_BIT","Var":"WORD#16#00FF"}],"Ix":19,"Name":"&","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":8,"Type":"ANY_BIT","Var":"errorCode"}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":9,"Type":"ANY_ELEMENTARY, ENUM","Var":"errorCode"},{"__type":"PRM","Arg":"In2","Ix":10,"Type":"ANY_ELEMENTARY, ENUM","Var":"WORD#16#47"}],"Ix":20,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1,"PL":true},{"__type":"ST","Ix":1,"Var":"MyVibrator.Msg.CurrentSpike","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":15,"Type":"ANY_ELEMENTARY, ENUM","Var":"errorCode"},{"__type":"PRM","Arg":"In2","Ix":16,"Type":"ANY_ELEMENTARY, ENUM","Var":"WORD#16#02"}],"Ix":23,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":2,"PL":true},{"__type":"ST","Ix":4,"Var":"MyVibrator.Msg.Overload","X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":17,"Type":"ANY_ELEMENTARY, ENUM","Var":"errorCode"},{"__type":"PRM","Arg":"In2","Ix":18,"Type":"ANY_ELEMENTARY, ENUM","Var":"WORD#16#37"}],"Ix":24,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":3,"PL":true},{"__type":"ST","Ix":5,"Var":"MyVibrator.Msg.OverVoltage","X":2,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":11,"Type":"ANY_ELEMENTARY, ENUM","Var":"errorCode"},{"__type":"PRM","Arg":"In2","Ix":12,"Type":"ANY_ELEMENTARY, ENUM","Var":"WORD#16#0C"}],"Ix":21,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":4,"PL":true},{"__type":"ST","Ix":2,"Var":"MyVibrator.Msg.SensorFault","X":2,"Y":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":13,"Type":"ANY_ELEMENTARY, ENUM","Var":"errorCode"},{"__type":"PRM","Arg":"In2","Ix":14,"Type":"ANY_ELEMENTARY, ENUM","Var":"WORD#16#58"}],"Ix":22,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":5,"PL":true},{"__type":"ST","Ix":3,"Var":"MyVibrator.Msg.ShortCircuit","X":2,"Y":5},{"__type":"HL","X":2}],"CMT":"Read alarms","LRI":25,"RRI":26,"VLs":[{"Ix":27,"X":1},{"Ix":27,"X":1,"Y":1},{"Ix":27,"X":1,"Y":2},{"Ix":27,"X":1,"Y":3},{"Ix":27,"X":1,"Y":4}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"LD","Ix":1,"Not":true,"Var":"MyVibrator.Xch.Order","X":1},{"__type":"F","EC":"Unit ready","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":9,"Type":"ANY_ELEMENTARY, ENUM","Var":"errorCode"},{"__type":"PRM","Arg":"In2","Ix":10,"Type":"ANY_ELEMENTARY, ENUM","Var":"WORD#16#A5"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"ST","Ix":6,"Var":"MyVibrator.Sta.Ready","X":3},{"__type":"LD","Ix":2,"Var":"reading","X":1,"Y":1},{"__type":"LD","Ix":3,"Var":"writing","X":1,"Y":2},{"__type":"ST","Ix":7,"Var":"MyVibrator.Sta.Busy","X":2,"Y":1},{"__type":"LD","Ix":4,"Var":"readingDone","X":1,"Y":3},{"__type":"LD","Ix":5,"Var":"writingDone","X":1,"Y":4},{"__type":"ST","Ix":8,"Var":"MyVibrator.Sta.Done","X":2,"Y":3},{"__type":"HL","X":3,"Y":1},{"__type":"HL","X":3,"Y":3}],"CMT":"Parameters status","LRI":12,"RRI":13,"VLs":[{"Ix":14,"X":2,"Y":1},{"Ix":15,"X":2,"Y":3},{"Ix":16,"X":1},{"Ix":16,"X":1,"Y":1},{"Ix":16,"X":1,"Y":2},{"Ix":16,"X":1,"Y":3}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"IST","EID":"058bf18c-21d5-4fb7-b428-671d68621e3d","H":115.33333333333337,"Ix":1,"TXT":"\/\/ Convert current 0..100% = 0..0x8000\u000d\u000aMyVibrator.Sta.Current := ScaleTrans(WORD_TO_REAL(Swap(Data_IN[2])), 0, 0, 16#8000, 100, 0);","W":847.33333333333314,"X":1}],"CMT":"###   Feedback   ################################################################################","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"LD","Ix":1,"Var":"MyVibrator.Cmd.Run","X":1},{"__type":"IST","EID":"21af89e8-f132-4dcf-a413-e9c1d8e6361d","H":116.66666666666686,"Ix":7,"TXT":"\/\/ Convert command  0-100% = 0..4000\u000d\u000acmdSpeed := REAL_TO_WORD( ScaleTrans( MyVibrator.Cmd.Power, 0,0,100.0,16#FFFF, 0) );\u000d\u000a","W":950,"X":2},{"__type":"ST","Ix":2,"Var":"run","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":5,"Name":"Down","Out":[{"__type":"PF","Arg":""}],"X":2,"Y":2,"Id":"3e413720-7386-4b7f-bc79-b8f700000057"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"16#0000"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"cmdSpeed"}],"X":3,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"###   Command   ##################################################################################","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":2},{"Ix":10,"X":2,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"LD","Ix":1,"Var":"run","X":1},{"__type":"LD","Ix":2,"Var":"MyVibrator.Cmd.SoftPower","X":1,"Y":1},{"__type":"LD","Ix":3,"Not":true,"Var":"MyVibrator.Sta.Busy","X":2},{"__type":"ST","Ix":4,"Var":"cmdRun","X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"WORD","Var":"cmdSpeed"}],"Ix":7,"Name":"Swap","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":6,"Type":"WORD","Var":"Data_OUT[1]"}],"X":3,"Y":1}],"CMT":"Output management","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1},{"Ix":11,"X":2},{"Ix":12,"X":3}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"F","EC":"Parameter mode (=1)","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":1,"Type":"ANY_BIT(except BOOL)","Var":"Data_OUT[3]"},{"__type":"PRM","Arg":"Pos","Ix":2,"Type":"USINT","Var":"7"},{"__type":"PRM","Arg":"BitVal","Ix":3,"Type":"BOOL","Var":"MyVibrator.Sta.Busy"}],"Ix":11,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":4,"Type":"ANY_BIT(except BOOL)","Var":"Data_OUT[3]"},{"__type":"PRM","Arg":"","Ix":5,"Type":"BOOL","Var":""}],"X":1},{"__type":"F","EC":"Run drive (=1)","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":6,"Type":"ANY_BIT(except BOOL)","Var":"Data_OUT[3]"},{"__type":"PRM","Arg":"Pos","Ix":7,"Type":"USINT","Var":"10"},{"__type":"PRM","Arg":"BitVal","Ix":8,"Type":"BOOL","Var":"cmdRun"}],"Ix":12,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":9,"Type":"ANY_BIT(except BOOL)","Var":"Data_OUT[3]"},{"__type":"PRM","Arg":"","Ix":10,"Type":"BOOL","Var":""}],"X":1,"Y":1}],"CMT":"Physical order","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":1}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"MN","Ix":1,"Type":"ANY_NUM","Var":"REAL#5.0"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY_NUM","Var":"MyVibrator.Cmd.Frequency"},{"__type":"PRM","Arg":"MX","Ix":3,"Type":"ANY_NUM","Var":"REAL#330"}],"Ix":12,"Name":"LIMIT","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":4,"Type":"ANY_NUM","Var":"MyVibrator.Cmd.Frequency"}],"X":1},{"__type":"FB","In":[{"__type":"PRM","Arg":"myVibrator","IO":true,"Ix":5,"Type":"OBJ\\VIBRATOR","Var":"MyVibrator"},{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"Value","IO":true,"Ix":6,"Type":"REAL","Var":"MyVibrator.Cmd.Frequency"},{"__type":"PRM","Arg":"Code","Ix":7,"Type":"WORD","Var":"16#1005"},{"__type":"PRM","Arg":"Ratio","Ix":8,"Type":"REAL","Var":"100.0"}],"Ix":11,"Name":"Vibrator_ParamFollow","Out":[{"__type":"PRM","Arg":"myVibrator","IO":true,"Ix":9,"Type":"OBJ\\VIBRATOR","Var":"MyVibrator"},{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Value","IO":true,"Ix":10,"Type":"REAL","Var":"MyVibrator.Cmd.Frequency"}],"UD":true,"X":1,"Y":1,"Var":"frequencyParam"}],"CMT":"Frequency management","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":1}]}
{"CLs":[{"__type":"LD","Var":"P_First_Run"},{"__type":"LD","Ix":1,"Not":true,"Var":"MyVibrator.Sta.Enabled","Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"999"}],"Ix":7,"Name":"=","Out":[{"__type":"PF","Arg":""}],"Y":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"0"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"r"}],"X":1}],"CMT":"###   Read sequence   ############################################################################\u000d\u000a\u000d\u000aInitalisazion","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1},{"Ix":10,"X":1,"Y":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":3,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Not":true,"Var":"MyVibrator.Xch.Read","X":1},{"__type":"JMP","Ix":4,"Label":"write","X":2}],"CMT":"0: Jump if no order","LRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":5,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Var":"MyVibrator.Xch.Read","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"10"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"r"}],"X":2}],"CMT":"0: Wait command from external bloc","LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Ix":1,"S":true,"Var":"reading","X":1},{"__type":"LD","Var":"MyVibrator.Sta.Busy","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"20"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"r"}],"X":2,"Y":1},{"__type":"HL","X":2}],"CMT":"10: Set order and wait to be busy (One cycle)","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"a57d636c-eb73-4684-83f5-65cffeb18f82","H":155.33333333333303,"Ix":3,"TXT":"\/\/ Write parameters\u000d\u000aData_OUT[1] := Swap(MyVibrator.Xch.Code);\u000d\u000aData_OUT[2] := 0;\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000ar := 30;","W":520.66666666666663,"X":1}],"CMT":"20: Write datas to get parameter from a code","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"30"}],"Ix":8,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[3]"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"ACK"}],"Ix":9,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[1]"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[1]"}],"Ix":10,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"40"}],"Ix":11,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"r"}],"X":3}],"CMT":"30: Wait for drive response","LRI":12,"RRI":13,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"40"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"78531673-15b0-499e-a2e3-81e0343458b7","H":145.33333333333303,"Ix":3,"TXT":"\/\/ Set response in structure\u000d\u000aMyVibrator.Xch.Value :=Swap(Data_IN[2]);\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000ar := 100;","W":532.66666666666663,"X":1}],"CMT":"40: Get response","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"100"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Ix":1,"Var":"readingDone","X":1},{"__type":"LD","Var":"MyVibrator.Xch.Done","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"110"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"r"}],"X":2,"Y":1},{"__type":"HL","X":2}],"CMT":"100: Inform the FB about the result and wait for the handshake","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"r"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"110"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Not":true,"Var":"MyVibrator.Xch.Done","X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"reading","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"999"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"r"}],"X":2,"Y":1}],"CMT":"110: Wait for the FB to release the handshake","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":2}]}
{"CLs":[{"__type":"LD","Var":"P_First_Run"},{"__type":"LD","Ix":1,"Not":true,"Var":"MyVibrator.Sta.Enabled","Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"999"}],"Ix":7,"Name":"=","Out":[{"__type":"PF","Arg":""}],"Y":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"0"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"w"}],"X":1}],"CMT":"###   Write sequence   ############################################################################\u000d\u000a\u000d\u000aInitalisazion","LI":8,"LRI":9,"Label":"write","RRI":10,"VLs":[{"Ix":11,"X":1},{"Ix":11,"X":1,"Y":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":3,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Not":true,"Var":"MyVibrator.Xch.Write","X":1},{"__type":"JMP","Ix":4,"Label":"EoF","X":2}],"CMT":"0: Jump if no order","LRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":5,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Var":"MyVibrator.Xch.Write","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"10"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"w"}],"X":2}],"CMT":"0: Wait command from external bloc","LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Ix":1,"S":true,"Var":"writing","X":1},{"__type":"LD","Var":"MyVibrator.Sta.Busy","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"20"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"w"}],"X":2,"Y":1},{"__type":"HL","X":2}],"CMT":"10: Set order and wait to be busy (One cycle)","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"70d760fe-6354-4051-bc6e-97bb59eb8acc","H":207.33333333333371,"Ix":3,"TXT":"\/\/ Write parameters\u000d\u000aData_OUT[1] := Swap(16#C0DE);\u000d\u000aData_OUT[2] := Swap(16#B5E7);\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aw := 30;","W":666,"X":1}],"CMT":"20: Open write enabled","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"30"}],"Ix":10,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[3]"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"ACK"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[1]"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[1]"}],"Ix":12,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":8,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[2]"},{"__type":"PRM","Arg":"In2","Ix":9,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[2]"}],"Ix":14,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"40"}],"Ix":13,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"w"}],"X":4}],"CMT":"30: Wait for write enabled acknowledge","LRI":15,"RRI":16,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"40"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"24c18b20-3690-494a-b7a1-4d26ddce3fc1","H":163.33333333333337,"Ix":3,"TXT":"\/\/ Write parameters\u000d\u000aData_OUT[1] := Swap(MyVibrator.Xch.Code OR 16#8000);  \/\/ Need to enabled write mode with x8000\u000d\u000aData_OUT[2] := Swap(MyVibrator.Xch.Value);\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aw := 50;","W":732.66666666666663,"X":1}],"CMT":"40: Write parameters","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"50"}],"Ix":10,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[3]"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"ACK"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[1]"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[1]"}],"Ix":12,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":6,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[2]"},{"__type":"PRM","Arg":"In2","Ix":7,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[2]"}],"Ix":14,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY","Var":"60"}],"Ix":13,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":9,"Type":"ANY","Var":"w"}],"X":4}],"CMT":"30: Wait for write acknowledge","LRI":15,"RRI":16,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"60"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"9d638c83-d203-45b3-b2f3-fbc424e59e20","H":154.66666666666697,"Ix":3,"TXT":"\/\/ Write parameters\u000d\u000aData_OUT[1] := Swap(16#C0DE);\u000d\u000aData_OUT[2] := Swap(16#0000);\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aw := 70;","W":730.66666666666652,"X":1}],"CMT":"60: Close write enabled","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"70"}],"Ix":10,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[3]"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"ACK"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[1]"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[1]"}],"Ix":12,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":6,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_IN[2]"},{"__type":"PRM","Arg":"In2","Ix":7,"Type":"ANY_ELEMENTARY, ENUM","Var":"Data_OUT[2]"}],"Ix":14,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY","Var":"100"}],"Ix":13,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":9,"Type":"ANY","Var":"w"}],"X":4}],"CMT":"30: Wait for write close acknowledge","LRI":15,"RRI":16,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"100"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Ix":1,"Var":"writingDone","X":1},{"__type":"LD","Var":"MyVibrator.Xch.Done","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"110"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"w"}],"X":2,"Y":1},{"__type":"HL","X":2}],"CMT":"100: Inform the FB about the result and wait for the handshake","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"w"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"110"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Not":true,"Var":"MyVibrator.Xch.Done","X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"writing","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"999"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"w"}],"X":2,"Y":1}],"CMT":"110: Wait for the FB to release the handshake","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":2}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Dwn":true,"Id":"3e413720-7386-4b7f-bc79-b8f700000169","Ix":1,"Var":"Enabled","Y":1},{"__type":"LD","Ix":2,"Not":true,"Var":"tooMuchConfig","X":1},{"__type":"ST","Ix":3,"Var":"ENO","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":7,"Name":"Down","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1,"Id":"3e413720-7386-4b7f-bc79-b8f70000016c"},{"__type":"ST","Ix":4,"RS":true,"Var":"started","X":2,"Y":1},{"__type":"ST","Ix":5,"RS":true,"Var":"MyVibrator.Msg.TooMuchConfig","X":2,"Y":2},{"__type":"ST","Ix":6,"RS":true,"Var":"tooMuchConfig","X":3,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"EndFB","LI":8,"LRI":9,"Label":"EoF","RRI":10,"VLs":[{"Ix":11,"X":1},{"Ix":12,"X":2,"Y":1}]}
