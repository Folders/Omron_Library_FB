{"CLs":[{"__type":"LD","Not":true,"Var":"ENO"},{"__type":"LD","Ix":1,"Var":"MyVibrator.Msg.TooMuchConfig","Y":1},{"__type":"LD","Ix":2,"Not":true,"Var":"started","X":1,"Y":1},{"__type":"HL","X":1},{"__type":"JMP","Ix":3,"Label":"EoF","X":2}],"CMT":"S05V00R00 - 2025.02.18 - PC\u000d\u000a- First version\u000d\u000a\u000d\u000a_______________________________________________________________________________________________________\u000d\u000a\u000d\u000aDisabled coil if not used or as too much configuration","LRI":4,"VLs":[{"Ix":5,"X":2}]}
{"CLs":[{"__type":"LD","Not":true,"Var":"started"},{"__type":"LD","Ix":1,"Var":"MyVibrator.Cfg.Done","X":1},{"__type":"ST","Ix":5,"S":true,"Var":"MyVibrator.Msg.TooMuchConfig","X":2},{"__type":"LD","Ix":2,"Not":true,"Var":"MyVibrator.Cfg.Done","X":1,"Y":1},{"__type":"LD","Ix":3,"Not":true,"Var":"IsBowl","X":2,"Y":1},{"__type":"ST","Ix":6,"RS":true,"Var":"MyVibrator.Cfg.IsBowl","X":3,"Y":1},{"__type":"ST","Ix":7,"S":true,"Var":"MyVibrator.Cfg.IsLinear","X":4,"Y":1},{"__type":"LD","Ix":4,"Var":"IsBowl","X":2,"Y":2},{"__type":"ST","Ix":8,"RS":true,"Var":"MyVibrator.Cfg.IsLinear","X":3,"Y":2},{"__type":"ST","Ix":9,"S":true,"Var":"MyVibrator.Cfg.IsBowl","X":4,"Y":2},{"__type":"ST","Ix":10,"RS":true,"Var":"MyVibrator.Cfg.AsParameter","X":2,"Y":3},{"__type":"IST","EID":"aa6b921f-b5dd-44e8-8d44-33316a9e0bda","H":160,"Ix":12,"TXT":"\/\/ Compute ratio and maximum\u000d\u000aratio := MaxAnalog * 0.01;\u000d\u000aoutputMax := REAL_TO_INT(MaxAnalog);\u000d\u000a\u000d\u000a\/\/ Get task interval\u000d\u000ataskInterval := TIME_TO_REAL( GetMyTaskInterval() );","W":476.66666666666663,"X":2,"Y":4},{"__type":"ST","Ix":11,"S":true,"Var":"started","X":2,"Y":5},{"__type":"HL","X":3},{"__type":"HL","X":4},{"__type":"HL","X":3,"Y":3},{"__type":"HL","X":4,"Y":3},{"__type":"HL","X":3,"Y":4},{"__type":"HL","X":4,"Y":4},{"__type":"HL","X":3,"Y":5},{"__type":"HL","X":4,"Y":5}],"CMT":"###   Configuration   ############################################################################","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":1},{"Ix":16,"X":2,"Y":1},{"Ix":16,"X":2,"Y":2},{"Ix":16,"X":2,"Y":3},{"Ix":16,"X":2,"Y":4}]}
{"CLs":[{"__type":"LD","Not":true,"Var":"Enabled"},{"__type":"ST","Ix":1,"RS":true,"Var":"MyVibrator.Msg.TooMuchConfig","X":1},{"__type":"ST","Ix":2,"RS":true,"Var":"MyVibrator.Cfg.Done","X":2},{"__type":"ST","Ix":3,"RS":true,"Var":"started","X":1,"Y":1},{"__type":"HL","X":2,"Y":1}],"CMT":"Unload configuration","LRI":4,"RRI":5,"VLs":[{"Ix":6,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Ix":3,"Var":"started","X":1},{"__type":"ST","Ix":4,"Var":"MyVibrator.Sta.Enabled","X":2},{"__type":"LD","Ix":1,"Var":"Commissioning","X":1,"Y":1},{"__type":"ST","Ix":5,"Var":"MyVibrator.Sta.Commissioning","X":2,"Y":1},{"__type":"LD","Ix":2,"Var":"MyVibrator.Cmd.Run","X":1,"Y":2},{"__type":"ST","Ix":6,"Var":"MyVibrator.Sta.Running","X":2,"Y":2}],"CMT":"###   Status   ##################################################################################","LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":1},{"Ix":9,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyVibrator.Cmd.Frequency"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"frequencyBackup"}],"Ix":3,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"IST","EID":"711b3c14-1e95-4837-8c24-2ba3c1c0937b","H":130,"Ix":4,"TXT":"\/\/ w\u000d\u000aw := taskInterval * MyVibrator.Cmd.Frequency * TURN;\u000d\u000a\u000d\u000a\/\/ Backup the frequency\u000d\u000afrequencyBackup := MyVibrator.Cmd.Frequency;","W":773.99999999999977,"X":2}],"CMT":"###   Command   ##################################################################################\u000d\u000a\u000d\u000aFrequency calculation","LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"LD","Ix":1,"Var":"MyVibrator.Cmd.Run","X":1},{"__type":"IST","EID":"21af89e8-f132-4dcf-a413-e9c1d8e6361d","H":237.99999999999977,"Ix":7,"TXT":"\/\/ Increment the sinus interval\u000d\u000aincrement := increment + w;\u000d\u000a\u000d\u000a\/\/ Check for overrun\u000d\u000aIF increment >= TURN THEN\u000d\u000a\u0009increment := increment - TURN;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Convert command  0-100% = 0..4000\u000d\u000aCmd_Speed := LIMIT(-outputMax, REAL_TO_INT(MyVibrator.Cmd.Power * ratio * SIN(increment) ), outputMax);","W":879.33333333333337,"X":2},{"__type":"ST","Ix":2,"Var":"run","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":5,"Name":"Down","Out":[{"__type":"PF","Arg":""}],"X":2,"Y":2,"Id":"5e07b7a7-65a1-4627-a714-565f00000028"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"0"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"Cmd_Speed"}],"X":3,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"Speed and frequency","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":2},{"Ix":10,"X":2,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"MyVibrator.Sta.Enabled"},{"__type":"LD","Ix":1,"Var":"run","X":1},{"__type":"LD","Ix":2,"Var":"MyVibrator.Cmd.SoftPower","X":1,"Y":1},{"__type":"ST","Ix":3,"Var":"Cmd_Run","X":2}],"CMT":"Output management","LRI":4,"RRI":5,"VLs":[{"Ix":6,"X":1},{"Ix":7,"X":2}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Dwn":true,"Id":"5e07b7a7-65a1-4627-a714-565f00000039","Ix":1,"Var":"Enabled","Y":1},{"__type":"ST","Ix":2,"Var":"ENO","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":4,"Name":"Down","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1,"Id":"5e07b7a7-65a1-4627-a714-565f0000003c"},{"__type":"ST","Ix":3,"RS":true,"Var":"started","X":2,"Y":1},{"__type":"HL","X":2}],"CMT":"EndFB","LI":5,"LRI":6,"Label":"EoF","RRI":7,"VLs":[{"Ix":8,"X":1}]}
